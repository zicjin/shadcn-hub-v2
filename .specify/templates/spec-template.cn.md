# 功能规范：[功能名称]

**功能分支**：`[###-功能名称]`
**创建日期**：[DATE]
**状态**：草稿
**输入**：用户描述：“$ARGUMENTS”

## 执行流程 (main)
```
1. 从输入解析用户描述
   → 如果为空：错误“未提供功能描述”
2. 从描述中提取关键概念
   → 识别：参与者、操作、数据、约束
3. 对于每个不清楚的方面：
   → 标记为 [需要澄清：具体问题]
4. 填写用户场景和测试部分
   → 如果没有明确的用户流程：错误“无法确定用户场景”
5. 生成功能需求
   → 每个需求都必须是可测试的
   → 标记模糊的需求
6. 识别关键实体（如果涉及数据）
7. 运行审查清单
   → 如果有任何 [需要澄清]：警告“规范存在不确定性”
   → 如果发现实施细节：错误“删除技术细节”
8. 返回：成功（规范已准备好进行规划）
```

---

## ⚡ 快速指南
- ✅ 关注用户需要什么以及为什么
- ❌ 避免如何实施（无技术栈、API、代码结构）
- 👥 为业务利益相关者而非开发人员编写

### 章节要求
- **强制性章节**：每个功能都必须完成
- **可选章节**：仅在与功能相关时包含
- 当某个章节不适用时，完全删除它（不要保留为“不适用”）

### 对于 AI 生成
从用户提示创建此规范时：
1. **标记所有模糊之处**：对于您需要做出的任何假设，请使用 [需要澄清：具体问题]
2. **不要猜测**：如果提示未指定某些内容（例如，“登录系统”但没有身份验证方法），请标记它
3. **像测试人员一样思考**：每个模糊的需求都应该在“可测试且无歧义”的清单项目中失败
4. **常见的未详细说明的领域**：
   - 用户类型和权限
   - 数据保留/删除策略
   - 性能目标和规模
   - 错误处理行为
   - 集成要求
   - 安全/合规需求

---

## 用户场景和测试 *（强制性）*

### 主要用户故事
[用通俗易懂的语言描述主要用户旅程]

### 验收场景
1. **鉴于** [初始状态]，**当** [操作]，**则** [预期结果]
2. **鉴于** [初始状态]，**当** [操作]，**则** [预期结果]

### 边缘案例
- 当 [边界条件] 时会发生什么？
- 系统如何处理 [错误场景]？

## 需求 *（强制性）*

### 功能需求
- **FR-001**：系统必须 [特定功能，例如，“允许用户创建帐户”]
- **FR-002**：系统必须 [特定功能，例如，“验证电子邮件地址”]
- **FR-003**：用户必须能够 [关键交互，例如，“重置密码”]
- **FR-004**：系统必须 [数据要求，例如，“持久化用户偏好”]
- **FR-005**：系统必须 [行为，例如，“记录所有安全事件”]

*标记不明确需求的示例：*
- **FR-006**：系统必须通过 [需要澄清：未指定身份验证方法 - 电子邮件/密码、SSO、OAuth？] 对用户进行身份验证
- **FR-007**：系统必须将用户数据保留 [需要澄清：未指定保留期限]

### 关键实体 *（如果功能涉及数据，则包括）*
- **[实体 1]**：[它代表什么，没有实现的关键属性]
- **[实体 2]**：[它代表什么，与其他实体的关系]

---

## 审查和验收清单
*门禁：在 main() 执行期间运行的自动检查*

### 内容质量
- [ ] 无实施细节（语言、框架、API）
- [ ] 专注于用户价值和业务需求
- [ ] 为非技术利益相关者编写
- [ ] 所有强制性章节均已完成

### 需求完整性
- [ ] 不再有 [需要澄清] 标记
- [ ] 需求是可测试且无歧义的
- [ ] 成功标准是可衡量的
- [ ] 范围有明确界定
- [ ] 已识别依赖项和假设

---

## 执行状态
*在处理过程中由 main() 更新*

- [ ] 已解析用户描述
- [ ] 已提取关键概念
- [ ] 已标记模糊之处
- [ ] 已定义用户场景
- [ ] 已生成需求
- [ ] 已识别实体
- [ ] 已通过审查清单

---